"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[815],{5815:function(s,t,e){e.r(t),e.d(t,{default:function(){return w}});var n=e(2791),i={},u=e(6292),o=e(9439),r=e(184),a=function(s){var t=(0,n.useState)(!1),e=(0,o.Z)(t,2),i=e[0],u=e[1],a=(0,n.useState)(s.status),c=(0,o.Z)(a,2),l=c[0],d=c[1];(0,n.useEffect)((function(){d(s.status)}),[s.status]);return(0,r.jsxs)("div",{children:[!i&&(0,r.jsx)("div",{children:(0,r.jsx)("span",{onDoubleClick:function(){u(!0)},children:s.status||"--------"})}),i&&(0,r.jsx)("div",{children:(0,r.jsx)("input",{onChange:function(s){d(s.currentTarget.value)},autoFocus:!0,onBlur:function(){u(!1),s.updateStatus(l)},value:l})})]})},c=function(s){return s.profile?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350"})}),(0,r.jsxs)("div",{className:i.descriptionBlock,children:[(0,r.jsx)("img",{src:s.profile.photos.large}),(0,r.jsx)(a,{status:s.status,updateStatus:s.updateStatus})]})]}):(0,r.jsx)(u.Z,{})},l=e(6070),d={postsBlock:"MyPosts_postsBlock__Wfndj"},p="Post_item__MSzDn",f=function(s){return(0,r.jsxs)("div",{className:p,children:[(0,r.jsx)("img",{src:"https://i.pinimg.com/originals/01/c7/b1/01c7b181419e15cc614b2297a0e0b959.jpg"}),s.message,(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:s.likesCount})})]})},h=e(6139),x=e(704),j=e(8323),m=e(5304),g=(0,m.D)(10),v=(0,x.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,r.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,r.jsx)("div",{children:(0,r.jsx)(h.Z,{component:j.g,name:"newPostText",validate:[m.C,g],placeholder:"Post message"})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{children:"Add post"})})]})})),P=n.memo((function(s){console.log("Render");var t=s.posts.map((function(s){return(0,r.jsx)(f,{message:s.message,likesCount:s.likesCount})}));return(0,r.jsxs)("div",{className:d.postsBlock,children:[(0,r.jsx)("h3",{children:"MyPosts"}),(0,r.jsx)(v,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,r.jsx)("div",{className:d.posts,children:t})]})})),S=e(8687),b=(0,S.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,l.Wl)(t))}}}))(P),k=function(s){return(0,r.jsxs)("div",{children:[(0,r.jsx)(c,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,r.jsx)(b,{})]})},C=e(7689),_=e(1548);var w=(0,e(7781).qC)((0,S.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf}),_.V)((function(s){var t=(0,C.UO)().userId;return t||(t=s.authorizedUserId),(0,n.useEffect)((function(){s.getUserProfile(t),s.getStatus(t)}),[t]),(0,r.jsx)("div",{children:(0,r.jsx)(k,{profile:s.profile,status:s.status,updateStatus:s.updateStatus})})}))}}]);
//# sourceMappingURL=815.d5f915fb.chunk.js.map