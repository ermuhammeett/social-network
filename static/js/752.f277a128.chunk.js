"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[752],{752:function(e,s,t){t.r(s),t.d(s,{default:function(){return O}});var n=t(8683),o=t(2791),i=t(9439),r="ProfileInfo_descriptionBlock__9p-+f",a="ProfileInfo_mainPhoto__TqtAF",l="ProfileInfo_contact__ApF5j",c=t(6292),u=t(184),d=function(e){var s=(0,o.useState)(!1),t=(0,i.Z)(s,2),n=t[0],r=t[1],a=(0,o.useState)(e.status),l=(0,i.Z)(a,2),c=l[0],d=l[1];(0,o.useEffect)((function(){d(e.status)}),[e.status]);return(0,u.jsxs)("div",{children:[!n&&(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Status: "})," ",(0,u.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"-------"})]}),n&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{onChange:function(e){d(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(c)},value:c})})]})},h=t(7057),f=t(8323),j=t(6139),x=t(704),p=t(9058),m=(0,x.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.profile,n=e.error;return(0,u.jsxs)("form",{onSubmit:s,children:[(0,u.jsx)("div",{children:(0,u.jsx)("button",{children:"save"})}),n&&(0,u.jsx)("div",{className:p.Z.formSummaryError,children:n}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Full name"}),": ",(0,u.jsx)(j.Z,{placeholder:"Full name",name:"fullName",validate:[],component:f.I})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Looking for a job"}),": ",(0,u.jsx)(j.Z,{placeholder:"",name:"lookingForAJob",validate:[],component:f.I,type:"checkbox"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"My professional skills"}),":",(0,u.jsx)(j.Z,{placeholder:"My professional skills",name:"lookingForAJobDescription",validate:[],component:f.g})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"About me"}),":",(0,u.jsx)(j.Z,{placeholder:"About me",name:"aboutMe",validate:[],component:f.g})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("b",{children:[e,": ",(0,u.jsx)(j.Z,{placeholder:e,name:"contacts."+e,validate:[],component:f.I})]})},e)}))]})]})})),v=function(e){var s=e.profile,t=e.isOwner,n=e.goToEditMode;return(0,u.jsxs)("div",{children:[t&&(0,u.jsx)("div",{children:(0,u.jsx)("button",{onClick:n,children:"edit"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Full name"}),": ",s.fullName]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(e){return(0,u.jsx)(b,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})]})},b=function(e){var s=e.contactTitle,t=e.contactValue;return(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("b",{children:s}),": ",t]})},g=function(e){var s=e.profile,t=e.status,n=e.updateStatus,l=e.isOwner,f=e.savePhoto,j=e.saveProfile,x=(0,o.useState)(!1),p=(0,i.Z)(x,2),b=p[0],g=p[1];if(!s)return(0,u.jsx)(c.Z,{});return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)("img",{src:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350"})}),(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)("img",{src:s.photos.large||h,className:a}),l&&(0,u.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&f(e.target.files[0])}}),b?(0,u.jsx)(m,{initialValues:s,profile:s,onSubmit:function(e){j(e).then((function(){g(!1)}))}}):(0,u.jsx)(v,{goToEditMode:function(){g(!0)},profile:s,isOwner:l}),(0,u.jsx)(d,{status:t,updateStatus:n})]})]})},P=t(6070),k=t(3433),S={postsBlock:"MyPosts_postsBlock__B8Qg5"},_="Post_item__xfA0u",Z=function(e){return(0,u.jsxs)("div",{className:_,children:[(0,u.jsx)("img",{src:"https://i.pinimg.com/originals/01/c7/b1/01c7b181419e15cc614b2297a0e0b959.jpg"}),e.message,(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:e.likesCount})})]})},A=t(5304),w=(0,A.D)(10),y=(0,x.Z)({form:"ProfileAddNewPostForm"})((function(e){return(0,u.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,u.jsx)("div",{children:(0,u.jsx)(j.Z,{component:f.g,name:"newPostText",validate:[A.C,w],placeholder:"Post message"})}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{children:"Add post"})})]})})),C=o.memo((function(e){var s=(0,k.Z)(e.posts).reverse().map((function(e){return(0,u.jsx)(Z,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,u.jsxs)("div",{className:S.postsBlock,children:[(0,u.jsx)("h3",{children:"MyPosts"}),(0,u.jsx)(y,{onSubmit:function(s){e.addPost(s.newPostText)}}),(0,u.jsx)("div",{className:S.posts,children:s})]})})),F=t(8687),I=(0,F.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(s){e((0,P.Wl)(s))}}}))(C),N=function(e){return(0,u.jsxs)("div",{children:[(0,u.jsx)(g,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),(0,u.jsx)(I,{})]})},T=t(7689),M=t(1548),O=(0,t(7781).qC)((0,F.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:P.et,getStatus:P.lR,updateStatus:P.Nf,savePhoto:P.Ju,saveProfile:P.Ii}),M.V)((function(e){var s=(0,T.UO)().userId;return(0,o.useEffect)((function(){!function(){var t=s||e.authorizedUserId;t?(e.getUserProfile(t),e.getStatus(t)):e.history.push("/login")}()}),[s,e.authorizedUserId]),(0,u.jsx)(N,(0,n.Z)((0,n.Z)({},e),{},{isOwner:!s,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto}))}))}}]);
//# sourceMappingURL=752.f277a128.chunk.js.map